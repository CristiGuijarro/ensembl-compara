
Example for Hs34 against Rn3

1- download the sql data from ucsc

cd /ecs2/work3/abel/blastz/Hs34Rn3/
mkdir ucsc_sql;cd ucsc_sql

wget -t 5 http://genome.cse.ucsc.edu/goldenPath/hg16/database/

grep Rn3 index.html |awk -F "\"" '{print $6}'|grep -e net -e chain|while read i;do wget -t 5 http://genome.cse.ucsc.edu/goldenPath/hg16/database/$i;done

2- set up a mysql database

echo "create database ucsc_chain_data_Hs34Rn3;"|mysql -h ecs4 -P3352 -u ensadmin -pensembl

 create the tables

ls *.sql|while read i;do mysql -h ecs4 -P3352 -u ensadmin -pensembl ucsc_chain_data_Hs34Rn3 < $i;done

 load the data

ls *.gz|sed "s/\.gz//"|while read i;do echo "Loading $i...";gunzip $i.gz;mysqlimport -h ecs4 -P3352 -u ensadmin -pensembl ucsc_chain_data_Hs34Rn3 $i;gzip $i;echo $i loaded;done

# create a new index, not necessary, I created it just for conviniance for debugging :)
# create index chainId on netRn3 (chainId); 

Load in compara

mysql -h ecs4 -P3352 -u ensro -N -e "show tables" ucsc_chain_data_Mm33Rn3|awk -F "_chain" '/^chr/ {print $1}'|sort -u|while read i;do bsub -o $i.out /nfs/acari/abel/src/ensembl_main/ensembl-compara/scripts/blastz/LoadUcscNetData.pl --ucsc_dbname ucscMm33Rn3 --dbname abelcompara24test --tSpecies mouse  --tName $i --qSpecies Rn3 --method_link_type BLASTZ_NET ;done

WARNING: The only requirement here is that the registry alias name of the --qSpecies (in the example Rn3) has 
to be the same as the name of the netRn3 table in the UCSC database.
For example, if the net table from UCSC is named netGalGal2, the registry alias name of the corresponding chicken core
database has to be GalGal2.
