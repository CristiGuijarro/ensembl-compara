
Example for Hs34 against Rn3

1- download the sql data from ucsc

cd /ecs2/work3/abel/blastz/Hs34Rn3/
mkdir ucsc_sql;cd ucsc_sql

wget -t 5 http://genome.cse.ucsc.edu/goldenPath/hg16/database/

grep Rn3 index.html |awk -F "\"" '{print $6}'|grep -e net -e chain|while read i;do wget -t 5 http://genome.cse.ucsc.edu/goldenPath/hg16/database/$i;done

2- set up a mysql database

echo "create database ucsc_chain_data_Hs34Rn3;"|mysql -h ecs4 -P3352 -u ensadmin -pensembl

 create the tables

ls *.sql|while read i;do mysql -h ecs4 -P3352 -u ensadmin -pensembl ucsc_chain_data_Hs34Rn3 < $i;done

 load the data

ls *.gz|sed "s/\.gz//"|while read i;do echo "Loading $i...";gunzip $i.gz;mysqlimport -h ecs4 -P3352 -u ensadmin -pensembl ucsc_chain_data_Hs34Rn3 $i;gzip $i;echo $i loaded;done

 create a new index, not necessary, I created it just for conviniance for debugging :)

create index chainId on netRn3 (chainId); 

Load in compara

~/src/ensembl_main/ensembl-compara/scripts/blastz/LoadUcscNetData.pl -ucsc_host ecs4 -ucsc_port 3352 -ucsc_dbname ucsc_chain_data_Mm32Rn3 -host ecs2 -port 3364 -dbuser ensadmin -dbpass ensembl -dbname ensembl_compara_20_abel -alignment_type BLASTZ_NET -tSpecies Rn3 -tgenome_db_id  2 -qgenome_db_id 3 -conf_file /nfs/acari/abel/src/ensembl_main/ensembl-compara/Compara.conf

