This README describes how to run the DumpMultiAlign pipeline 

The dumps are grouped by the toplevel regions of the reference species.
Alignments not containing the reference species are written to files called
*.other_*. Each file contains split_size alignments (default 200).
Alignments containing duplications in the reference species are dumped once
per duplicated segment.

All the scripts are located relative to $ENSEMBL_CVS_ROOT_DIR (location of the GIT checkout)

1) Edit $ENSEMBL_CVS_ROOT_DIR/ensembl-compara/modules/Bio/EnsEMBL/Compara/PipeConfig/DumpMultiAlign_conf.pm

The location of the compara and core databases containing the alignments
can be defined using the parameter 'reg_conf' and 'compara_db'. Defaults
have been set in the DumpMultiAlign_conf.pm. Most options likely to change
are done on the command line.

Options most likely to need chaging are:
compara_db  => Where the alignments are. Either a URL or a name found in the Registry
reg_conf    => Registry configuration file
format      => Many formats are accepted. "emf" (default), "maf", and "emf2maf" are the most common
export_dir  => Where to dump files. The pipeline will create 1 directory per alignment there

Other options are:
split_size  => Maximum number of blocks per file
masked_seq  => As in DumpMultiAlign.pl (0 for unmasked, 1 for soft-masked, 2 for hard-masked)
mode        => Either 'dir' (directory of compressed files -this is the default-),
               'tar' (compressed tar archive of a directory of uncompressed files),
               or 'file' (single compressed file)
method_link_types => In case you only want to dump a particular kind of alignments


2) Run init_pipeline.pl

  init_pipeline.pl Bio::EnsEMBL::Compara::PipeConfig::DumpMultiAlign_conf --host comparaY --compara_db mysql://ensro@comparaX/msa_db_to_dump --export_dir where/the/dumps/will/be/
  init_pipeline.pl Bio::EnsEMBL::Compara::PipeConfig::DumpMultiAlign_conf --host comparaY --compara_db mysql://ensro@ens-staging1/ensembl_compara_80 --reg_conf path/to/production_reg_conf.pl
  init_pipeline.pl Bio::EnsEMBL::Compara::PipeConfig::DumpMultiAlign_conf --host comparaY --compara_db compara_prev --reg_conf path/to/production_reg_conf.pl --format maf --method_link_types EPO


3) Advanced usage

To tell the pipeline to dump a specific alignment, you can add --mlss_id XXX to the init_pipeline.pl command

